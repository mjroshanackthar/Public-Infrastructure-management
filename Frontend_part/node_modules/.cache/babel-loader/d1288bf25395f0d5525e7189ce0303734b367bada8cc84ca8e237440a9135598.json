{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\locha\\\\Downloads\\\\BC_Backend_part\\\\Frontend_part\\\\src\\\\pages\\\\Tenders.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Plus, FileText, Calendar, DollarSign, Users, Eye, Award, Server, CheckCircle, RefreshCw, AlertTriangle } from 'lucide-react';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { useAuth, PERMISSIONS } from '../contexts/AuthContext';\nimport { tendersAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Tenders = () => {\n  _s();\n  const [tenders, setTenders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [selectedTender, setSelectedTender] = useState(null);\n  const [bids, setBids] = useState([]);\n  const [showBidForm, setShowBidForm] = useState(false);\n  const [txHash, setTxHash] = useState(null);\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [verificationStatus, setVerificationStatus] = useState(null);\n  const {\n    hasPermission,\n    getUserRole\n  } = useAuth();\n  const [newTender, setNewTender] = useState({\n    title: '',\n    description: '',\n    budget: '',\n    daysUntilDeadline: '',\n    minQualificationScore: 50,\n    maxBids: 5\n  });\n  const [newBid, setNewBid] = useState({\n    amount: '',\n    estimatedDuration: '',\n    proposal: ''\n  });\n  useEffect(() => {\n    loadTenders();\n  }, []);\n  const loadTenders = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await tendersAPI.getAllTenders();\n\n      // Handle different response formats for different user roles\n      if (Array.isArray(response.data)) {\n        // Admin/Verifier response - direct array\n        setTenders(response.data);\n      } else if (response.data && Array.isArray(response.data.tenders)) {\n        // Contractor response - object with tenders array and verification info\n        setTenders(response.data.tenders);\n        setVerificationStatus({\n          canBid: response.data.canBid,\n          message: response.data.verificationMessage\n        });\n      } else {\n        setTenders([]);\n      }\n    } catch (err) {\n      setError(`Failed to load tenders: ${err.message}`);\n      console.error(err);\n      setTenders([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const createTender = async e => {\n    e.preventDefault();\n    try {\n      setIsProcessing(true);\n      setTxHash(null);\n      const response = await tendersAPI.createTender(newTender);\n      if (response.data.txHash) {\n        setTxHash(response.data.txHash);\n      }\n      setShowCreateForm(false);\n      setNewTender({\n        title: '',\n        description: '',\n        budget: '',\n        daysUntilDeadline: '',\n        minQualificationScore: 50,\n        maxBids: 5\n      });\n\n      // Reload tenders\n      setTimeout(() => loadTenders(), 2000);\n    } catch (err) {\n      alert(`Failed to create tender: ${err.message}`);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const loadTenderBids = async tenderId => {\n    try {\n      const response = await tendersAPI.getTenderBids(tenderId);\n      setBids(Array.isArray(response.data) ? response.data : []);\n      setSelectedTender(tenderId);\n    } catch (err) {\n      console.error('Failed to load bids:', err);\n      setBids([]);\n    }\n  };\n  const submitBid = async e => {\n    e.preventDefault();\n    try {\n      setIsProcessing(true);\n      setTxHash(null);\n      const response = await tendersAPI.submitBid(selectedTender, newBid);\n      if (response.data.txHash) {\n        setTxHash(response.data.txHash);\n      }\n      setShowBidForm(false);\n      setNewBid({\n        amount: '',\n        estimatedDuration: '',\n        proposal: ''\n      });\n\n      // Reload bids\n      setTimeout(() => loadTenderBids(selectedTender), 2000);\n    } catch (err) {\n      alert(`Failed to submit bid: ${err.message}`);\n    } finally {\n      setIsProcessing(false);\n    }\n  };\n  const assignWinner = async bidId => {\n    try {\n      await tendersAPI.assignWinner(selectedTender, {\n        bidId\n      });\n      loadTenders();\n      loadTenderBids(selectedTender);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert('Failed to assign winner: ' + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || err.message));\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'Open':\n        return 'bg-success-100 text-success-800';\n      case 'Awarded':\n        return 'bg-primary-100 text-primary-800';\n      case 'Closed':\n        return 'bg-gray-100 text-gray-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      size: \"lg\",\n      text: \"Loading tenders...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: getUserRole() === 'admin' ? 'Tender Management' : 'Available Tenders'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: getUserRole() === 'admin' ? 'Create and manage building project tenders, review bids, and assign winners' : 'View and bid on available building project tenders'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center px-2 py-1 bg-primary-100 rounded text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(Server, {\n              className: \"h-3 w-3 mr-1 text-primary-600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-primary-600\",\n              children: \"Backend Managed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), hasPermission(PERMISSIONS.CREATE_TENDER) && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowCreateForm(true),\n        className: \"flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700\",\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          className: \"h-4 w-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this), \"Create Tender\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-danger-50 border border-danger-200 text-danger-700 px-4 py-3 rounded\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this), getUserRole() === 'contractor' && verificationStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `px-4 py-3 rounded ${verificationStatus.canBid ? 'bg-success-50 border border-success-200 text-success-700' : 'bg-warning-50 border border-warning-200 text-warning-700'}`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [verificationStatus.canBid ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"h-4 w-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"h-4 w-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium\",\n          children: verificationStatus.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }, this), txHash && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-success-50 border border-success-200 text-success-700 px-4 py-3 rounded\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"h-4 w-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: [\"Transaction submitted:\", /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `https://etherscan.io/tx/${txHash}`,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"ml-1 underline hover:no-underline font-mono\",\n            children: [txHash.slice(0, 10), \"...\", txHash.slice(-8)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 9\n    }, this), isProcessing && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-primary-50 border border-primary-200 text-primary-700 px-4 py-3 rounded\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(RefreshCw, {\n          className: \"h-4 w-4 mr-2 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: \"Processing blockchain transaction...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }, this), getUserRole() === 'admin' && Array.isArray(tenders) && tenders.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg border\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(FileText, {\n            className: \"h-8 w-8 text-blue-600 mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: tenders.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Total Tenders\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg border\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            className: \"h-8 w-8 text-green-600 mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: tenders.filter(t => t.status === 'Open').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Open Tenders\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg border\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Award, {\n            className: \"h-8 w-8 text-yellow-600 mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: tenders.filter(t => t.status === 'Awarded').length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Awarded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg border\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Users, {\n            className: \"h-8 w-8 text-purple-600 mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: tenders.reduce((total, t) => {\n                var _t$bids;\n                return total + (((_t$bids = t.bids) === null || _t$bids === void 0 ? void 0 : _t$bids.length) || 0);\n              }, 0)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Total Bids\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-success-50 border border-success-200 text-success-700 px-4 py-3 rounded\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"h-4 w-4 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm\",\n          children: \"Backend managing blockchain interactions securely\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), showCreateForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg max-w-md w-full mx-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-medium mb-4\",\n          children: \"Create New Tender\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: createTender,\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: newTender.title,\n              onChange: e => setNewTender({\n                ...newTender,\n                title: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: newTender.description,\n              onChange: e => setNewTender({\n                ...newTender,\n                description: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md\",\n              rows: \"3\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Budget (ETH)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                step: \"0.1\",\n                value: newTender.budget,\n                onChange: e => setNewTender({\n                  ...newTender,\n                  budget: e.target.value\n                }),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Days Until Deadline\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: newTender.daysUntilDeadline,\n                onChange: e => setNewTender({\n                  ...newTender,\n                  daysUntilDeadline: e.target.value\n                }),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowCreateForm(false),\n              className: \"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: isProcessing,\n              className: \"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50\",\n              children: isProcessing ? 'Creating...' : 'Create Tender'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-6\",\n      children: !Array.isArray(tenders) || tenders.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(FileText, {\n          className: \"h-12 w-12 text-gray-400 mx-auto mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 mb-2\",\n          children: \"No tenders found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600\",\n          children: \"Create your first tender to get started\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 11\n      }, this) : tenders.map(tender => {\n        var _tender$bids, _tender$creator;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-6 rounded-lg shadow-sm border\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-start mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-medium text-gray-900\",\n                children: tender.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600 mt-1\",\n                children: tender.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(tender.status)}`,\n              children: tender.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\",\n            children: [getUserRole() !== 'contractor' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                className: \"h-4 w-4 text-gray-400 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"Budget: \", tender.budget, \" ETH\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                className: \"h-4 w-4 text-gray-400 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"Deadline: \", new Date(tender.deadline).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                className: \"h-4 w-4 text-gray-400 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"Bids: \", ((_tender$bids = tender.bids) === null || _tender$bids === void 0 ? void 0 : _tender$bids.length) || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(Award, {\n                className: \"h-4 w-4 text-gray-400 mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"Min Score: \", tender.minQualificationScore]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this), getUserRole() === 'admin' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 p-3 rounded-lg mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"text-sm font-medium text-blue-900 mb-2\",\n              children: \"Admin Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600\",\n                  children: \"Created:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 23\n                }, this), \" \", new Date(tender.createdAt).toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600\",\n                  children: \"Creator:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 23\n                }, this), \" \", ((_tender$creator = tender.creator) === null || _tender$creator === void 0 ? void 0 : _tender$creator.name) || 'System']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-blue-600\",\n                  children: \"Max Bids:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 23\n                }, this), \" \", tender.maxBids]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 19\n            }, this), tender.winningBid && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 pt-2 border-t border-blue-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-blue-600 text-xs\",\n                children: \"Winner Assigned:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 457,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs ml-1\",\n                children: [\"Bid ID \", tender.winningBid]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => loadTenderBids(tender._id),\n              className: \"flex items-center px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(Eye, {\n                className: \"h-4 w-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 19\n              }, this), \"View Details\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this), getUserRole() === 'admin' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [tender.status === 'Open' && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => loadTenderBids(tender._id),\n                className: \"flex items-center px-3 py-1 text-sm bg-success-100 text-success-700 rounded hover:bg-success-200\",\n                children: [/*#__PURE__*/_jsxDEV(Award, {\n                  className: \"h-4 w-4 mr-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 25\n                }, this), \"Manage Bids\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 23\n              }, this), tender.status === 'Awarded' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex items-center px-3 py-1 text-sm bg-primary-100 text-primary-700 rounded\",\n                  children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"h-4 w-4 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 27\n                  }, this), \"Winner Assigned\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 25\n                }, this), tender.paymentStatus === 'Pending' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: async () => {\n                    if (window.confirm(`Process payment of ${tender.paymentAmount || tender.budget} ETH to the winning contractor?`)) {\n                      try {\n                        setIsProcessing(true);\n                        const response = await fetch(`http://localhost:5002/api/tenders/${tender._id}/process-payment`, {\n                          method: 'POST',\n                          headers: {\n                            'Authorization': `Bearer ${localStorage.getItem('auth_token')}`,\n                            'Content-Type': 'application/json'\n                          }\n                        });\n                        if (!response.ok) {\n                          throw new Error('Payment processing failed');\n                        }\n                        const data = await response.json();\n                        alert('Payment processed successfully!');\n                        setTxHash(data.payment.transactionHash);\n                        loadTenders(); // Reload tenders to show updated status\n                      } catch (err) {\n                        alert('Failed to process payment: ' + err.message);\n                      } finally {\n                        setIsProcessing(false);\n                      }\n                    }\n                  },\n                  disabled: isProcessing,\n                  className: \"flex items-center px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50\",\n                  children: [/*#__PURE__*/_jsxDEV(DollarSign, {\n                    className: \"h-4 w-4 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 523,\n                    columnNumber: 29\n                  }, this), \"Process Payment\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 27\n                }, this), tender.paymentStatus === 'Completed' && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex items-center px-3 py-1 text-sm bg-green-100 text-green-700 rounded\",\n                  children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n                    className: \"h-4 w-4 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 29\n                  }, this), \"Payment Completed\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 528,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true), getUserRole() === 'contractor' && tender.status === 'Open' && hasPermission(PERMISSIONS.SUBMIT_BID) && (verificationStatus !== null && verificationStatus !== void 0 && verificationStatus.canBid ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setSelectedTender(tender._id);\n                setShowBidForm(true);\n              },\n              className: \"flex items-center px-3 py-1 text-sm bg-primary-100 text-primary-700 rounded hover:bg-primary-200\",\n              children: [/*#__PURE__*/_jsxDEV(Plus, {\n                className: \"h-4 w-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 23\n              }, this), \"Submit Bid\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: true,\n              className: \"flex items-center px-3 py-1 text-sm bg-gray-100 text-gray-500 rounded cursor-not-allowed\",\n              title: \"Complete verification to submit bids\",\n              children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n                className: \"h-4 w-4 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 557,\n                columnNumber: 23\n              }, this), \"Verification Required\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this), selectedTender === tender._id && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 border-t pt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-medium text-gray-900\",\n                children: getUserRole() === 'admin' ? 'Bid Management' : 'Submitted Bids'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 568,\n                columnNumber: 21\n              }, this), getUserRole() === 'admin' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-600\",\n                children: [\"Total Bids: \", bids.length, \" | Status: \", tender.status]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 19\n            }, this), Array.isArray(bids) && bids.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-4\",\n              children: bids.map((bid, bidIndex) => {\n                var _bid$bidder, _bid$bidder2, _bid$bidder3, _bid$bidder4, _bid$bidder$walletAdd;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `p-4 rounded-lg border ${bid.isWinner ? 'bg-success-50 border-success-200' : 'bg-gray-50 border-gray-200'}`,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex justify-between items-start mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center space-x-2 mb-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"font-medium text-lg\",\n                          children: ((_bid$bidder = bid.bidder) === null || _bid$bidder === void 0 ? void 0 : _bid$bidder.name) || `Contractor #${bidIndex + 1}`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 585,\n                          columnNumber: 33\n                        }, this), bid.isWinner && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"px-2 py-1 bg-success-600 text-white text-xs rounded-full\",\n                          children: \"Winner\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 587,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 584,\n                        columnNumber: 31\n                      }, this), getUserRole() === 'admin' && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500 uppercase tracking-wide\",\n                            children: \"Bid Amount\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 596,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-sm font-medium\",\n                            children: [bid.amount, \" ETH\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 597,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 595,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500 uppercase tracking-wide\",\n                            children: \"Duration\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 600,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-sm font-medium\",\n                            children: [bid.estimatedDuration, \" days\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 601,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 599,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500 uppercase tracking-wide\",\n                            children: \"Organization\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 604,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-sm font-medium\",\n                            children: ((_bid$bidder2 = bid.bidder) === null || _bid$bidder2 === void 0 ? void 0 : _bid$bidder2.organization) || 'N/A'\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 605,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 603,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-xs text-gray-500 uppercase tracking-wide\",\n                            children: \"Rating\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 608,\n                            columnNumber: 37\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            className: \"text-sm font-medium\",\n                            children: [((_bid$bidder3 = bid.bidder) === null || _bid$bidder3 === void 0 ? void 0 : _bid$bidder3.rating) || 'N/A', \" \\u2B50\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 609,\n                            columnNumber: 37\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 607,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 594,\n                        columnNumber: 33\n                      }, this), getUserRole() !== 'admin' && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"space-y-1 mb-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-600\",\n                          children: [\"Amount: \", bid.amount, \" ETH\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 616,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-600\",\n                          children: [\"Duration: \", bid.estimatedDuration, \" days\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 617,\n                          columnNumber: 35\n                        }, this), ((_bid$bidder4 = bid.bidder) === null || _bid$bidder4 === void 0 ? void 0 : _bid$bidder4.organization) && /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-500\",\n                          children: [\"Organization: \", bid.bidder.organization]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 619,\n                          columnNumber: 37\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 615,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"mb-3\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-xs text-gray-500 uppercase tracking-wide mb-1\",\n                          children: \"Proposal\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 625,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"text-sm text-gray-700\",\n                          children: bid.proposal\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 626,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 624,\n                        columnNumber: 31\n                      }, this), getUserRole() === 'admin' && bid.bidder && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-xs text-gray-500\",\n                        children: [\"Submitted: \", new Date(bid.submittedAt).toLocaleString(), \" | Wallet: \", (_bid$bidder$walletAdd = bid.bidder.walletAddress) === null || _bid$bidder$walletAdd === void 0 ? void 0 : _bid$bidder$walletAdd.slice(0, 10), \"...\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 630,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 583,\n                      columnNumber: 29\n                    }, this), getUserRole() === 'admin' && tender.status === 'Open' && !bid.isWinner && /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => assignWinner(bid._id),\n                      className: \"ml-4 px-4 py-2 bg-success-600 text-white rounded-lg hover:bg-success-700 transition-colors\",\n                      children: [/*#__PURE__*/_jsxDEV(Award, {\n                        className: \"h-4 w-4 mr-1 inline\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 642,\n                        columnNumber: 33\n                      }, this), \"Approve & Assign\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 638,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 582,\n                    columnNumber: 27\n                  }, this)\n                }, bid._id || bidIndex, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 581,\n                  columnNumber: 25\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 text-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(Users, {\n                className: \"h-8 w-8 mx-auto mb-2 text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"No bids submitted yet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 653,\n                columnNumber: 23\n              }, this), getUserRole() === 'admin' && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: \"Contractors will be able to submit bids for this tender\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 651,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 17\n          }, this)]\n        }, tender._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 7\n    }, this), showBidForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg max-w-md w-full mx-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-medium mb-4\",\n          children: \"Submit Bid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: submitBid,\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Bid Amount (ETH)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              step: \"0.1\",\n              min: \"50\",\n              value: newBid.amount,\n              onChange: e => setNewBid({\n                ...newBid,\n                amount: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mt-1\",\n              children: \"Minimum bid amount: 50 ETH\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Estimated Duration (days)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 688,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: newBid.estimatedDuration,\n              onChange: e => setNewBid({\n                ...newBid,\n                estimatedDuration: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Proposal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: newBid.proposal,\n              onChange: e => setNewBid({\n                ...newBid,\n                proposal: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md\",\n              rows: \"4\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 703,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 699,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowBidForm(false),\n              className: \"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 712,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              disabled: isProcessing,\n              className: \"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50\",\n              children: isProcessing ? 'Submitting...' : 'Submit Bid'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 711,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 668,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n};\n_s(Tenders, \"U0nXhPQ2k0BReZxsIjmT3ZqqlqU=\", false, function () {\n  return [useAuth];\n});\n_c = Tenders;\nexport default Tenders;\nvar _c;\n$RefreshReg$(_c, \"Tenders\");","map":{"version":3,"names":["React","useState","useEffect","Plus","FileText","Calendar","DollarSign","Users","Eye","Award","Server","CheckCircle","RefreshCw","AlertTriangle","LoadingSpinner","useAuth","PERMISSIONS","tendersAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","Tenders","_s","tenders","setTenders","loading","setLoading","error","setError","showCreateForm","setShowCreateForm","selectedTender","setSelectedTender","bids","setBids","showBidForm","setShowBidForm","txHash","setTxHash","isProcessing","setIsProcessing","verificationStatus","setVerificationStatus","hasPermission","getUserRole","newTender","setNewTender","title","description","budget","daysUntilDeadline","minQualificationScore","maxBids","newBid","setNewBid","amount","estimatedDuration","proposal","loadTenders","response","getAllTenders","Array","isArray","data","canBid","message","verificationMessage","err","console","createTender","e","preventDefault","setTimeout","alert","loadTenderBids","tenderId","getTenderBids","submitBid","assignWinner","bidId","_err$response","_err$response$data","getStatusColor","status","size","text","fileName","_jsxFileName","lineNumber","columnNumber","className","children","CREATE_TENDER","onClick","href","target","rel","slice","length","filter","t","reduce","total","_t$bids","onSubmit","type","value","onChange","required","rows","step","disabled","map","tender","_tender$bids","_tender$creator","Date","deadline","toLocaleDateString","createdAt","toLocaleString","creator","name","winningBid","_id","paymentStatus","window","confirm","paymentAmount","fetch","method","headers","localStorage","getItem","ok","Error","json","payment","transactionHash","SUBMIT_BID","bid","bidIndex","_bid$bidder","_bid$bidder2","_bid$bidder3","_bid$bidder4","_bid$bidder$walletAdd","isWinner","bidder","organization","rating","submittedAt","walletAddress","min","_c","$RefreshReg$"],"sources":["C:/Users/locha/Downloads/BC_Backend_part/Frontend_part/src/pages/Tenders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Plus, \r\n  FileText, \r\n  Calendar, \r\n  DollarSign, \r\n  Users, \r\n  Eye,\r\n  Award,\r\n  Server,\r\n  CheckCircle,\r\n  RefreshCw,\r\n  AlertTriangle\r\n} from 'lucide-react';\r\nimport LoadingSpinner from '../components/LoadingSpinner';\r\nimport { useAuth, PERMISSIONS } from '../contexts/AuthContext';\r\nimport { tendersAPI } from '../services/api';\r\n\r\nconst Tenders = () => {\r\n  const [tenders, setTenders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [showCreateForm, setShowCreateForm] = useState(false);\r\n  const [selectedTender, setSelectedTender] = useState(null);\r\n  const [bids, setBids] = useState([]);\r\n  const [showBidForm, setShowBidForm] = useState(false);\r\n  const [txHash, setTxHash] = useState(null);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [verificationStatus, setVerificationStatus] = useState(null);\r\n\r\n  const { hasPermission, getUserRole } = useAuth();\r\n\r\n  const [newTender, setNewTender] = useState({\r\n    title: '',\r\n    description: '',\r\n    budget: '',\r\n    daysUntilDeadline: '',\r\n    minQualificationScore: 50,\r\n    maxBids: 5\r\n  });\r\n\r\n  const [newBid, setNewBid] = useState({\r\n    amount: '',\r\n    estimatedDuration: '',\r\n    proposal: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadTenders();\r\n  }, []);\r\n\r\n  const loadTenders = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const response = await tendersAPI.getAllTenders();\r\n      \r\n      // Handle different response formats for different user roles\r\n      if (Array.isArray(response.data)) {\r\n        // Admin/Verifier response - direct array\r\n        setTenders(response.data);\r\n      } else if (response.data && Array.isArray(response.data.tenders)) {\r\n        // Contractor response - object with tenders array and verification info\r\n        setTenders(response.data.tenders);\r\n        setVerificationStatus({\r\n          canBid: response.data.canBid,\r\n          message: response.data.verificationMessage\r\n        });\r\n      } else {\r\n        setTenders([]);\r\n      }\r\n    } catch (err) {\r\n      setError(`Failed to load tenders: ${err.message}`);\r\n      console.error(err);\r\n      setTenders([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const createTender = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setIsProcessing(true);\r\n      setTxHash(null);\r\n      \r\n      const response = await tendersAPI.createTender(newTender);\r\n      if (response.data.txHash) {\r\n        setTxHash(response.data.txHash);\r\n      }\r\n      \r\n      setShowCreateForm(false);\r\n      setNewTender({\r\n        title: '',\r\n        description: '',\r\n        budget: '',\r\n        daysUntilDeadline: '',\r\n        minQualificationScore: 50,\r\n        maxBids: 5\r\n      });\r\n      \r\n      // Reload tenders\r\n      setTimeout(() => loadTenders(), 2000);\r\n    } catch (err) {\r\n      alert(`Failed to create tender: ${err.message}`);\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const loadTenderBids = async (tenderId) => {\r\n    try {\r\n      const response = await tendersAPI.getTenderBids(tenderId);\r\n      setBids(Array.isArray(response.data) ? response.data : []);\r\n      setSelectedTender(tenderId);\r\n    } catch (err) {\r\n      console.error('Failed to load bids:', err);\r\n      setBids([]);\r\n    }\r\n  };\r\n\r\n  const submitBid = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setIsProcessing(true);\r\n      setTxHash(null);\r\n      \r\n      const response = await tendersAPI.submitBid(selectedTender, newBid);\r\n      if (response.data.txHash) {\r\n        setTxHash(response.data.txHash);\r\n      }\r\n      \r\n      setShowBidForm(false);\r\n      setNewBid({ amount: '', estimatedDuration: '', proposal: '' });\r\n      \r\n      // Reload bids\r\n      setTimeout(() => loadTenderBids(selectedTender), 2000);\r\n    } catch (err) {\r\n      alert(`Failed to submit bid: ${err.message}`);\r\n    } finally {\r\n      setIsProcessing(false);\r\n    }\r\n  };\r\n\r\n  const assignWinner = async (bidId) => {\r\n    try {\r\n      await tendersAPI.assignWinner(selectedTender, { bidId });\r\n      loadTenders();\r\n      loadTenderBids(selectedTender);\r\n    } catch (err) {\r\n      alert('Failed to assign winner: ' + (err.response?.data?.error || err.message));\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'Open': return 'bg-success-100 text-success-800';\r\n      case 'Awarded': return 'bg-primary-100 text-primary-800';\r\n      case 'Closed': return 'bg-gray-100 text-gray-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <LoadingSpinner size=\"lg\" text=\"Loading tenders...\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">\r\n            {getUserRole() === 'admin' ? 'Tender Management' : 'Available Tenders'}\r\n          </h1>\r\n          <div className=\"flex items-center space-x-2\">\r\n            <p className=\"text-gray-600\">\r\n              {getUserRole() === 'admin' \r\n                ? 'Create and manage building project tenders, review bids, and assign winners'\r\n                : 'View and bid on available building project tenders'\r\n              }\r\n            </p>\r\n            <div className=\"flex items-center px-2 py-1 bg-primary-100 rounded text-xs\">\r\n              <Server className=\"h-3 w-3 mr-1 text-primary-600\" />\r\n              <span className=\"text-primary-600\">Backend Managed</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {hasPermission(PERMISSIONS.CREATE_TENDER) && (\r\n          <button\r\n            onClick={() => setShowCreateForm(true)}\r\n            className=\"flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700\"\r\n          >\r\n            <Plus className=\"h-4 w-4 mr-2\" />\r\n            Create Tender\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"bg-danger-50 border border-danger-200 text-danger-700 px-4 py-3 rounded\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {/* Contractor Verification Status */}\r\n      {getUserRole() === 'contractor' && verificationStatus && (\r\n        <div className={`px-4 py-3 rounded ${\r\n          verificationStatus.canBid \r\n            ? 'bg-success-50 border border-success-200 text-success-700'\r\n            : 'bg-warning-50 border border-warning-200 text-warning-700'\r\n        }`}>\r\n          <div className=\"flex items-center\">\r\n            {verificationStatus.canBid ? (\r\n              <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n            ) : (\r\n              <AlertTriangle className=\"h-4 w-4 mr-2\" />\r\n            )}\r\n            <span className=\"text-sm font-medium\">\r\n              {verificationStatus.message}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Transaction Hash Display */}\r\n      {txHash && (\r\n        <div className=\"bg-success-50 border border-success-200 text-success-700 px-4 py-3 rounded\">\r\n          <div className=\"flex items-center\">\r\n            <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n            <span className=\"text-sm\">\r\n              Transaction submitted: \r\n              <a \r\n                href={`https://etherscan.io/tx/${txHash}`} \r\n                target=\"_blank\" \r\n                rel=\"noopener noreferrer\"\r\n                className=\"ml-1 underline hover:no-underline font-mono\"\r\n              >\r\n                {txHash.slice(0, 10)}...{txHash.slice(-8)}\r\n              </a>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Processing Indicator */}\r\n      {isProcessing && (\r\n        <div className=\"bg-primary-50 border border-primary-200 text-primary-700 px-4 py-3 rounded\">\r\n          <div className=\"flex items-center\">\r\n            <RefreshCw className=\"h-4 w-4 mr-2 animate-spin\" />\r\n            <span className=\"text-sm\">\r\n              Processing blockchain transaction...\r\n            </span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Admin Statistics */}\r\n      {getUserRole() === 'admin' && Array.isArray(tenders) && tenders.length > 0 && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n          <div className=\"bg-white p-4 rounded-lg border\">\r\n            <div className=\"flex items-center\">\r\n              <FileText className=\"h-8 w-8 text-blue-600 mr-3\" />\r\n              <div>\r\n                <p className=\"text-2xl font-bold text-gray-900\">{tenders.length}</p>\r\n                <p className=\"text-sm text-gray-600\">Total Tenders</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white p-4 rounded-lg border\">\r\n            <div className=\"flex items-center\">\r\n              <CheckCircle className=\"h-8 w-8 text-green-600 mr-3\" />\r\n              <div>\r\n                <p className=\"text-2xl font-bold text-gray-900\">\r\n                  {tenders.filter(t => t.status === 'Open').length}\r\n                </p>\r\n                <p className=\"text-sm text-gray-600\">Open Tenders</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white p-4 rounded-lg border\">\r\n            <div className=\"flex items-center\">\r\n              <Award className=\"h-8 w-8 text-yellow-600 mr-3\" />\r\n              <div>\r\n                <p className=\"text-2xl font-bold text-gray-900\">\r\n                  {tenders.filter(t => t.status === 'Awarded').length}\r\n                </p>\r\n                <p className=\"text-sm text-gray-600\">Awarded</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-white p-4 rounded-lg border\">\r\n            <div className=\"flex items-center\">\r\n              <Users className=\"h-8 w-8 text-purple-600 mr-3\" />\r\n              <div>\r\n                <p className=\"text-2xl font-bold text-gray-900\">\r\n                  {tenders.reduce((total, t) => total + (t.bids?.length || 0), 0)}\r\n                </p>\r\n                <p className=\"text-sm text-gray-600\">Total Bids</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* System Status */}\r\n      <div className=\"bg-success-50 border border-success-200 text-success-700 px-4 py-3 rounded\">\r\n        <div className=\"flex items-center\">\r\n          <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n          <span className=\"text-sm\">\r\n            Backend managing blockchain interactions securely\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Create Tender Form */}\r\n      {showCreateForm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white p-6 rounded-lg max-w-md w-full mx-4\">\r\n            <h2 className=\"text-lg font-medium mb-4\">Create New Tender</h2>\r\n            <form onSubmit={createTender} className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Title\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={newTender.title}\r\n                  onChange={(e) => setNewTender({...newTender, title: e.target.value})}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Description\r\n                </label>\r\n                <textarea\r\n                  value={newTender.description}\r\n                  onChange={(e) => setNewTender({...newTender, description: e.target.value})}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                  rows=\"3\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Budget (ETH)\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    step=\"0.1\"\r\n                    value={newTender.budget}\r\n                    onChange={(e) => setNewTender({...newTender, budget: e.target.value})}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                    Days Until Deadline\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={newTender.daysUntilDeadline}\r\n                    onChange={(e) => setNewTender({...newTender, daysUntilDeadline: e.target.value})}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"flex justify-end space-x-3\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowCreateForm(false)}\r\n                  className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={isProcessing}\r\n                  className=\"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50\"\r\n                >\r\n                  {isProcessing ? 'Creating...' : 'Create Tender'}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Tenders List */}\r\n      <div className=\"grid gap-6\">\r\n        {!Array.isArray(tenders) || tenders.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <FileText className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No tenders found</h3>\r\n            <p className=\"text-gray-600\">Create your first tender to get started</p>\r\n          </div>\r\n        ) : (\r\n          tenders.map((tender) => (\r\n            <div key={tender._id} className=\"bg-white p-6 rounded-lg shadow-sm border\">\r\n              <div className=\"flex justify-between items-start mb-4\">\r\n                <div>\r\n                  <h3 className=\"text-lg font-medium text-gray-900\">{tender.title}</h3>\r\n                  <p className=\"text-gray-600 mt-1\">{tender.description}</p>\r\n                </div>\r\n                <span className={`px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(tender.status)}`}>\r\n                  {tender.status}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4\">\r\n                {/* Budget - Hidden from contractors */}\r\n                {getUserRole() !== 'contractor' && (\r\n                  <div className=\"flex items-center\">\r\n                    <DollarSign className=\"h-4 w-4 text-gray-400 mr-2\" />\r\n                    <span className=\"text-sm text-gray-600\">Budget: {tender.budget} ETH</span>\r\n                  </div>\r\n                )}\r\n                <div className=\"flex items-center\">\r\n                  <Calendar className=\"h-4 w-4 text-gray-400 mr-2\" />\r\n                  <span className=\"text-sm text-gray-600\">\r\n                    Deadline: {new Date(tender.deadline).toLocaleDateString()}\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-center\">\r\n                  <Users className=\"h-4 w-4 text-gray-400 mr-2\" />\r\n                  <span className=\"text-sm text-gray-600\">Bids: {tender.bids?.length || 0}</span>\r\n                </div>\r\n                <div className=\"flex items-center\">\r\n                  <Award className=\"h-4 w-4 text-gray-400 mr-2\" />\r\n                  <span className=\"text-sm text-gray-600\">Min Score: {tender.minQualificationScore}</span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Admin-only additional details */}\r\n              {getUserRole() === 'admin' && (\r\n                <div className=\"bg-blue-50 p-3 rounded-lg mb-4\">\r\n                  <h5 className=\"text-sm font-medium text-blue-900 mb-2\">Admin Details</h5>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs\">\r\n                    <div>\r\n                      <span className=\"text-blue-600\">Created:</span> {new Date(tender.createdAt).toLocaleString()}\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-blue-600\">Creator:</span> {tender.creator?.name || 'System'}\r\n                    </div>\r\n                    <div>\r\n                      <span className=\"text-blue-600\">Max Bids:</span> {tender.maxBids}\r\n                    </div>\r\n                  </div>\r\n                  {tender.winningBid && (\r\n                    <div className=\"mt-2 pt-2 border-t border-blue-200\">\r\n                      <span className=\"text-blue-600 text-xs\">Winner Assigned:</span>\r\n                      <span className=\"text-xs ml-1\">Bid ID {tender.winningBid}</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex space-x-3\">\r\n                <button\r\n                  onClick={() => loadTenderBids(tender._id)}\r\n                  className=\"flex items-center px-3 py-1 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200\"\r\n                >\r\n                  <Eye className=\"h-4 w-4 mr-1\" />\r\n                  View Details\r\n                </button>\r\n                \r\n                {/* Admin-specific actions */}\r\n                {getUserRole() === 'admin' && (\r\n                  <>\r\n                    {tender.status === 'Open' && (\r\n                      <button\r\n                        onClick={() => loadTenderBids(tender._id)}\r\n                        className=\"flex items-center px-3 py-1 text-sm bg-success-100 text-success-700 rounded hover:bg-success-200\"\r\n                      >\r\n                        <Award className=\"h-4 w-4 mr-1\" />\r\n                        Manage Bids\r\n                      </button>\r\n                    )}\r\n                    {tender.status === 'Awarded' && (\r\n                      <>\r\n                        <span className=\"flex items-center px-3 py-1 text-sm bg-primary-100 text-primary-700 rounded\">\r\n                          <CheckCircle className=\"h-4 w-4 mr-1\" />\r\n                          Winner Assigned\r\n                        </span>\r\n                        {tender.paymentStatus === 'Pending' && (\r\n                          <button\r\n                            onClick={async () => {\r\n                              if (window.confirm(`Process payment of ${tender.paymentAmount || tender.budget} ETH to the winning contractor?`)) {\r\n                                try {\r\n                                  setIsProcessing(true);\r\n                                  const response = await fetch(`http://localhost:5002/api/tenders/${tender._id}/process-payment`, {\r\n                                    method: 'POST',\r\n                                    headers: {\r\n                                      'Authorization': `Bearer ${localStorage.getItem('auth_token')}`,\r\n                                      'Content-Type': 'application/json'\r\n                                    }\r\n                                  });\r\n                                  \r\n                                  if (!response.ok) {\r\n                                    throw new Error('Payment processing failed');\r\n                                  }\r\n                                  \r\n                                  const data = await response.json();\r\n                                  alert('Payment processed successfully!');\r\n                                  setTxHash(data.payment.transactionHash);\r\n                                  loadTenders(); // Reload tenders to show updated status\r\n                                } catch (err) {\r\n                                  alert('Failed to process payment: ' + err.message);\r\n                                } finally {\r\n                                  setIsProcessing(false);\r\n                                }\r\n                              }\r\n                            }}\r\n                            disabled={isProcessing}\r\n                            className=\"flex items-center px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50\"\r\n                          >\r\n                            <DollarSign className=\"h-4 w-4 mr-1\" />\r\n                            Process Payment\r\n                          </button>\r\n                        )}\r\n                        {tender.paymentStatus === 'Completed' && (\r\n                          <span className=\"flex items-center px-3 py-1 text-sm bg-green-100 text-green-700 rounded\">\r\n                            <CheckCircle className=\"h-4 w-4 mr-1\" />\r\n                            Payment Completed\r\n                          </span>\r\n                        )}\r\n                      </>\r\n                    )}\r\n                  </>\r\n                )}\r\n                \r\n                {/* Contractor-specific actions */}\r\n                {getUserRole() === 'contractor' && tender.status === 'Open' && hasPermission(PERMISSIONS.SUBMIT_BID) && (\r\n                  verificationStatus?.canBid ? (\r\n                    <button\r\n                      onClick={() => {\r\n                        setSelectedTender(tender._id);\r\n                        setShowBidForm(true);\r\n                      }}\r\n                      className=\"flex items-center px-3 py-1 text-sm bg-primary-100 text-primary-700 rounded hover:bg-primary-200\"\r\n                    >\r\n                      <Plus className=\"h-4 w-4 mr-1\" />\r\n                      Submit Bid\r\n                    </button>\r\n                  ) : (\r\n                    <button\r\n                      disabled\r\n                      className=\"flex items-center px-3 py-1 text-sm bg-gray-100 text-gray-500 rounded cursor-not-allowed\"\r\n                      title=\"Complete verification to submit bids\"\r\n                    >\r\n                      <AlertTriangle className=\"h-4 w-4 mr-1\" />\r\n                      Verification Required\r\n                    </button>\r\n                  )\r\n                )}\r\n              </div>\r\n\r\n              {/* Bids Section */}\r\n              {selectedTender === tender._id && (\r\n                <div className=\"mt-6 border-t pt-4\">\r\n                  <div className=\"flex justify-between items-center mb-4\">\r\n                    <h4 className=\"font-medium text-gray-900\">\r\n                      {getUserRole() === 'admin' ? 'Bid Management' : 'Submitted Bids'}\r\n                    </h4>\r\n                    {getUserRole() === 'admin' && (\r\n                      <div className=\"text-sm text-gray-600\">\r\n                        Total Bids: {bids.length} | Status: {tender.status}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  {Array.isArray(bids) && bids.length > 0 ? (\r\n                    <div className=\"space-y-4\">\r\n                      {bids.map((bid, bidIndex) => (\r\n                        <div key={bid._id || bidIndex} className={`p-4 rounded-lg border ${bid.isWinner ? 'bg-success-50 border-success-200' : 'bg-gray-50 border-gray-200'}`}>\r\n                          <div className=\"flex justify-between items-start mb-3\">\r\n                            <div className=\"flex-1\">\r\n                              <div className=\"flex items-center space-x-2 mb-2\">\r\n                                <p className=\"font-medium text-lg\">{bid.bidder?.name || `Contractor #${bidIndex + 1}`}</p>\r\n                                {bid.isWinner && (\r\n                                  <span className=\"px-2 py-1 bg-success-600 text-white text-xs rounded-full\">\r\n                                    Winner\r\n                                  </span>\r\n                                )}\r\n                              </div>\r\n                              \r\n                              {getUserRole() === 'admin' && (\r\n                                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3\">\r\n                                  <div>\r\n                                    <p className=\"text-xs text-gray-500 uppercase tracking-wide\">Bid Amount</p>\r\n                                    <p className=\"text-sm font-medium\">{bid.amount} ETH</p>\r\n                                  </div>\r\n                                  <div>\r\n                                    <p className=\"text-xs text-gray-500 uppercase tracking-wide\">Duration</p>\r\n                                    <p className=\"text-sm font-medium\">{bid.estimatedDuration} days</p>\r\n                                  </div>\r\n                                  <div>\r\n                                    <p className=\"text-xs text-gray-500 uppercase tracking-wide\">Organization</p>\r\n                                    <p className=\"text-sm font-medium\">{bid.bidder?.organization || 'N/A'}</p>\r\n                                  </div>\r\n                                  <div>\r\n                                    <p className=\"text-xs text-gray-500 uppercase tracking-wide\">Rating</p>\r\n                                    <p className=\"text-sm font-medium\">{bid.bidder?.rating || 'N/A'} </p>\r\n                                  </div>\r\n                                </div>\r\n                              )}\r\n                              \r\n                              {getUserRole() !== 'admin' && (\r\n                                <div className=\"space-y-1 mb-3\">\r\n                                  <p className=\"text-sm text-gray-600\">Amount: {bid.amount} ETH</p>\r\n                                  <p className=\"text-sm text-gray-600\">Duration: {bid.estimatedDuration} days</p>\r\n                                  {bid.bidder?.organization && (\r\n                                    <p className=\"text-sm text-gray-500\">Organization: {bid.bidder.organization}</p>\r\n                                  )}\r\n                                </div>\r\n                              )}\r\n                              \r\n                              <div className=\"mb-3\">\r\n                                <p className=\"text-xs text-gray-500 uppercase tracking-wide mb-1\">Proposal</p>\r\n                                <p className=\"text-sm text-gray-700\">{bid.proposal}</p>\r\n                              </div>\r\n                              \r\n                              {getUserRole() === 'admin' && bid.bidder && (\r\n                                <div className=\"text-xs text-gray-500\">\r\n                                  Submitted: {new Date(bid.submittedAt).toLocaleString()} | \r\n                                  Wallet: {bid.bidder.walletAddress?.slice(0, 10)}...\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                            \r\n                            {getUserRole() === 'admin' && tender.status === 'Open' && !bid.isWinner && (\r\n                              <button\r\n                                onClick={() => assignWinner(bid._id)}\r\n                                className=\"ml-4 px-4 py-2 bg-success-600 text-white rounded-lg hover:bg-success-700 transition-colors\"\r\n                              >\r\n                                <Award className=\"h-4 w-4 mr-1 inline\" />\r\n                                Approve & Assign\r\n                              </button>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"text-center py-8 text-gray-500\">\r\n                      <Users className=\"h-8 w-8 mx-auto mb-2 text-gray-400\" />\r\n                      <p>No bids submitted yet</p>\r\n                      {getUserRole() === 'admin' && (\r\n                        <p className=\"text-sm\">Contractors will be able to submit bids for this tender</p>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* Bid Form Modal */}\r\n      {showBidForm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div className=\"bg-white p-6 rounded-lg max-w-md w-full mx-4\">\r\n            <h2 className=\"text-lg font-medium mb-4\">Submit Bid</h2>\r\n            <form onSubmit={submitBid} className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Bid Amount (ETH)\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  step=\"0.1\"\r\n                  min=\"50\"\r\n                  value={newBid.amount}\r\n                  onChange={(e) => setNewBid({...newBid, amount: e.target.value})}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                  required\r\n                />\r\n                <p className=\"text-sm text-gray-500 mt-1\">Minimum bid amount: 50 ETH</p>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Estimated Duration (days)\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  value={newBid.estimatedDuration}\r\n                  onChange={(e) => setNewBid({...newBid, estimatedDuration: e.target.value})}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Proposal\r\n                </label>\r\n                <textarea\r\n                  value={newBid.proposal}\r\n                  onChange={(e) => setNewBid({...newBid, proposal: e.target.value})}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\r\n                  rows=\"4\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"flex justify-end space-x-3\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowBidForm(false)}\r\n                  className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-md hover:bg-gray-50\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={isProcessing}\r\n                  className=\"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50\"\r\n                >\r\n                  {isProcessing ? 'Submitting...' : 'Submit Bid'}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tenders;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}